<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Brain tumor classification and segmentation</title>
    <meta
      content="An Innovative Solution to Facilitate Brain Tumor Detection Through
    MRI Image Uploads!"
      name="description"
    />
    <meta
      content="brain tumor segmentation, brain tumor classification, medical imaging, healthcare, machine learning, deep learning, neural networks"
      name="keywords"
    />

    <!-- Favicons -->

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Jost:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link
      href="{{ url_for('static', filename='assets/vendor/aos/aos.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/bootstrap/css/bootstrap.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/bootstrap-icons/bootstrap-icons.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/boxicons/css/boxicons.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/glightbox/css/glightbox.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/remixicon/remixicon.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/swiper/swiper-bundle.min.css') }}"
      rel="stylesheet"
    />

    <!-- Template Main CSS File -->
    <link
      href="{{ url_for('static', filename='assets/css/style.css') }}"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- ======= Header ======= -->
    <header id="header" class="fixed-top">
      <div class="container d-flex align-items-center">
        <h4 class="logo me-auto">
          <a href="index.html">Brain Tumor MRI Analyzer</a>
        </h4>
        <nav id="navbar" class="navbar">
          <ul>
            <li><a class="nav-link scrollto active" href="#hero">Home</a></li>
            <li>
              <a class="nav-link scrollto active" href="#predict">Predict</a>
            </li>
            <li>
              <a class="getstarted scrollto" href="#predict">Get Started</a>
            </li>
          </ul>
          <i class="bi bi-list mobile-nav-toggle"></i>
        </nav>
        <!-- .navbar -->
      </div>
    </header>
    <!-- End Header -->

    <!-- ======= Hero Section ======= -->
    <section id="hero" class="d-flex align-items-center">
      <div class="container">
        <div class="row">
          <div
            class="col-lg-6 d-flex flex-column justify-content-center pt-4 pt-lg-0 order-2 order-lg-1"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <h1>MRI Images Brain tumor classification</h1>
            <h2>
              An Innovative Solution to Facilitate Brain Tumor Detection Through
              MRI Image Uploads!
            </h2>
            <div class="d-flex justify-content-center justify-content-lg-start">
              <a href="#predict" class="btn-get-started scrollto"
                >Get Started</a
              >
              <!--  <a
                href="https://www.youtube.com/watch?v=jDDaplaOz7Q"
                class="glightbox btn-watch-video"
                ><i class="bi bi-play-circle"></i><span>Watch Video</span></a
              > -->
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- End Hero -->

    <main id="main">
      <!-- ======= Get Started Section ======= -->
      <section id="predict" class="about">
        <div class="container" data-aos="fade-up">
          <div class="upload-container">
            <div class="upload-form">
              <form
                action="/"
                method="POST"
                enctype="multipart/form-data"
                id="uploadForm"
              >
                <div class="mb-3 text-center upload-box" id="uploadBox">
                  <label for="imageInput" class="form-label">
                    <i class="bx bx-cloud-upload bx-3x"></i>
                    <div>Choose or Drag and Drop an image</div>
                  </label>
                  <div class="input-group half-width-input">
                    <input
                      class="form-control form-control-lg"
                      id="imageInput"
                      type="file"
                      name="imagefile"
                      accept="image/*"
                    />
                  </div>
                </div>
                <div class="d-flex justify-content-center">
                  <button type="submit" class="btn-upload">Predict</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>

      <!-- JavaScript Section -->
      <script>
        document.addEventListener("DOMContentLoaded", function () {
          var uploadBox = document.getElementById("uploadBox");

          uploadBox.addEventListener("dragover", function (e) {
            e.preventDefault();
            uploadBox.classList.add("dragover");
          });

          uploadBox.addEventListener("dragleave", function () {
            uploadBox.classList.remove("dragover");
          });

          uploadBox.addEventListener("drop", function (e) {
            e.preventDefault();
            uploadBox.classList.remove("dragover");

            var files = e.dataTransfer.files;
            document.getElementById("imageInput").files = files;
          });

          // Add a hover effect on the upload box
          uploadBox.addEventListener("mouseenter", function () {
            uploadBox.classList.add("hover");
          });

          uploadBox.addEventListener("mouseleave", function () {
            uploadBox.classList.remove("hover");
          });
        });
      </script>
      <!-- ======= End Get Started Section ======= -->
    </main>
    <!-- End #main -->

    <!-- ======= Footer ======= -->
    <footer id="footer">
      <div class="container footer-bottom clearfix">
        <div class="copyright text-center">
          &copy; Copyright. All Rights Reserved
        </div>
      </div>
    </footer>
    <!-- End Footer -->

    <div id="preloader"></div>
    <a
      href="#"
      class="back-to-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>

    <!-- Vendor JS Files -->
    <script src="{{ url_for('static', filename='assets/vendor/aos/aos.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/glightbox/js/glightbox.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/isotope-layout/isotope.pkgd.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/swiper/swiper-bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/waypoints/noframework.waypoints.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/php-email-form/validate.js') }}"></script>

    <!-- Template Main JS File -->
    <script src="{{ url_for('static', filename='assets/js/main.js') }}"></script>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js";
      import {
        getDatabase,
        ref,
        set,
      } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyCXcdlrV0WC1cRhicUvZVqP7wG0LwgvLYY",
        authDomain: "brain-tumor-mail.firebaseapp.com",
        projectId: "brain-tumor-mail",
        storageBucket: "brain-tumor-mail.appspot.com",
        messagingSenderId: "776951161833",
        appId: "1:776951161833:web:ff07f090a769f1f4cb6178",
        measurementId: "G-Q4TRJP7N41",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);

      function writeMessage(userId, fullName, email, subject, message) {
        set(ref(database, "messages/" + userId), {
          fullName: fullName,
          email: email,
          subject: subject,
          message: message,
        })
          .then(() => {
            document.getElementById("contactForm").reset();
            document.querySelector(".sent-message").style.display = "block";
            setTimeout(() => {
              document.querySelector(".sent-message").style.display = "none";
            }, 5000);
          })
          .catch((error) => {
            console.error("Error writing data to the database: ", error);
            document.querySelector(".error-message").innerHTML =
              "Error occurred. Please try again later.";
            document.querySelector(".error-message").style.display = "block";
            setTimeout(() => {
              document.querySelector(".error-message").style.display = "none";
            }, 5000);
          });
      }

      // Function to generate a unique user ID (you can implement your own logic here)
      function generateUserId() {
        return Math.random().toString(36).substring(2);
      }

      document
        .getElementById("contactForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const fullName = document.getElementById("fullName").value;
          const email = document.getElementById("email").value;
          const subject = document.getElementById("subject").value;
          const message = document.getElementById("message").value;
          const userId = generateUserId();
          writeMessage(userId, fullName, email, subject, message);
        });
    </script>
  </body>
</html>
